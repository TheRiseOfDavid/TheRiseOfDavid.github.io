<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
    
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>
    UVa12149 - Feynman( math theorm ) |  大衞的筆記
  </title>
  <meta name="generator" content="hexo-theme-yilia-plus">
  
  <link rel="shortcut icon" href="/favicon.ico" />
  
  
<link rel="stylesheet" href="/css/main.css">

  
  <script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
  
  

<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-159948450-1', 'auto');
ga('send', 'pageview');

</script>



  

</head>

</html>

<body>
  <div id="app">
    <main class="content">
      <section class="outer">
  <article id="post-UVa/UVa12149" class="article article-type-post" itemscope
  itemprop="blogPost" data-scroll-reveal>

  <div class="article-inner">
    
    <header class="article-header">
       
<h1 class="article-title sea-center" style="border-left:0" itemprop="name">
  UVa12149 - Feynman( math theorm )
</h1>
  

    </header>
    

    
    <div class="article-meta">
      <a href="/2021/01/02/UVa/UVa12149/" class="article-date">
  <time datetime="2021-01-02T07:36:44.000Z" itemprop="datePublished">2021-01-02</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/categories/UVa/">UVa</a>
  </div>

      
      
<div class="word_count">
    <span class="post-time">
        <span class="post-meta-item-icon">
            <i class="ri-quill-pen-line"></i>
            <span class="post-meta-item-text"> 字數統計：</span>
            <span class="post-count">2.4k</span>
        </span>
    </span>

    <span class="post-time">
        &nbsp; | &nbsp;
        <span class="post-meta-item-icon">
            <i class="ri-book-open-line"></i>
            <span class="post-meta-item-text"> 閱讀時間≈</span>
            <span class="post-count">9分鐘</span>
        </span>
    </span>
</div>

      
    </div>
    

    
    
    <div class="tocbot"></div>





    

    
    <div class="article-entry" itemprop="articleBody">
      


      

      
      <h2 id="題目大意"><a href="#題目大意" class="headerlink" title="題目大意"></a>題目大意</h2><blockquote>
<p>費曼在筆記中夾著餐巾紙，上面寫到在一個 n * n 的正方形中，裡面可以有多少種不同的正方形。<br>舉例：在 2 * 2 的正方形中，總共會有 5 種不同的正方形<br><img src="https://i.imgur.com/qpMeoD0.png" alt=""></p>
</blockquote>
<a id="more"></a>

<h2 id="觀念重點"><a href="#觀念重點" class="headerlink" title="觀念重點"></a>觀念重點</h2><ul>
<li><strong>推算</strong>出 n 的正方形有多少種正方形</li>
<li>再將這<strong>推算</strong>變成一數學公式</li>
</ul>
<h2 id="分析"><a href="#分析" class="headerlink" title="分析"></a>分析</h2><p>大難題XD，對於數學底子不好的我來說完全沒有辦法克服這題阿，我就像笨蛋一樣，嗚嗚。看了詳解並且詳細推了公式之後才了解一些。</p>
<h3 id="想出其他測試資料"><a href="#想出其他測試資料" class="headerlink" title="想出其他測試資料"></a>想出其他測試資料</h3><p>一開始要先稍微去推導其他例子，也就是除了範例以外我們再去想想在 n = 多少時會有多少正方形。</p>
<ul>
<li>n = 2 ，此時總共有  5 個正方形</li>
<li>n = 3 ，此時總共有 14 個正方形</li>
<li>n = 4 ，此時總共有 30 個正方形</li>
<li><del>不要問我怎麼算的，手畫真的很累..</del></li>
</ul>
<h3 id="歸納"><a href="#歸納" class="headerlink" title="歸納"></a>歸納</h3><p>如果真的有努力畫到 n = 4，那應該可以歸納出一個邏輯</p>
<ul>
<li>正方形邊長為 1<br>假如有一個 n 邊長的正方形，那他一定會有 n * n 個邊長為 1 的正方形</li>
<li>正方形邊長為 2<br>假如有一個 n 邊常的正方形，且 \(n \geq 2 \) 那他一定會有 \((n-1) * (n-1)\) 個邊長為 2 的正方形。至於為甚麼呢則在下方進行說明<ul>
<li>不同的正方形<br>因為不同的正方形定義只要裡面其中有一格是與其他正方形不同就可以獨立算是另一個新的正方形，但因為是正方形所以沒有辦法一格不同，只能夠 1 * n。</li>
<li>只需要 1 * n 個不同，我們要極大化正方形數量，因此我們從正方形左上角開始，不斷往下堆疊出邊長為 2 的正方形，會發現只能夠堆疊出 n - 1 個正方形<ul>
<li>舉例 n = 3，只能夠堆疊出兩個<br>如果想堆疊到第三個會發現會超出邊界，因此不可以</li>
<li>舉例 n = 4，只能夠堆疊出三個</li>
</ul>
</li>
<li>由於正方形長寬都一樣，因此 \( (n-1) * (n-1)\) 就會等於此正方形中邊長為 2 的所有正方形數量</li>
</ul>
</li>
<li>正方形邊長為 3<br>假如有一個 n 邊常的正方形，且 \(n \geq 3 \) 那他一定會有 \((n-2) * (n-2)\) 個邊長為 3 的正方形。至於為甚麼呢則在下方進行說明<ul>
<li>不同的正方形<br>因為不同的正方形定義只要裡面其中有一格是與其他正方形不同就可以獨立算是另一個新的正方形，但因為是正方形所以沒有辦法一格不同，只能夠 1 * n。</li>
<li>只需要 1 * n 個不同，我們要極大化正方形數量，因此我們從正方形左上角開始，不斷往下堆疊出邊長為 3 的正方形，會發現只能夠堆疊出 n - 1 個正方形<ul>
<li>舉例 n = 3，只能夠堆疊出一個<br>如果想堆疊到第二個會發現會超出邊界，因此不可以</li>
<li>舉例 n = 4，只能夠堆疊出兩個</li>
</ul>
</li>
<li>由於正方形長寬都一樣，因此 \( (n-2) * (n-2)\) 就會等於此正方形中邊長為 3 的所有正方形數量</li>
</ul>
</li>
<li>下方為圖示，為上方兩個正方形變長的範例 <blockquote>
<p><img src="https://i.imgur.com/WACl1u2.jpg" alt=""></p>
</blockquote>
</li>
<li>透過此方式可以推出在正方形邊長為 x 時，那會等於此正方形中邊長為 x 的所有正方形數量公式為 \((n-x) * (n-x) \)，也就是 \(\sum_{i=0}^{n-1} (n-i) * (n-i) \)。</li>
</ul>
<h3 id="將公式轉換"><a href="#將公式轉換" class="headerlink" title="將公式轉換"></a>將公式轉換</h3><p>再來我們將公式進行轉換，\(\sum_{i=0}^{n-1} (n-i) * (n-i) \) 雖然看起來可以用了，但我們還可以把它更優化。</p>
<p>\(\sum_{i=0}^{n-1} (n-i) * (n-i) \) 可以透過平方化簡等於 \(\sum_{i=0}^{n-1} (n-i)^2 \)。</p>
<p>再來，我們舉例假設 n = 3 的時候，應該會是 \((3-0)^2 + (3-1)^2 + (3-2)^2 = 3^2 + 2^2 + 1^2\)，透過這個舉例我們可以再將它化簡為 \(\sum_{i=1}^{n} i^2 \)，而此公式就是大家熟知的<strong>連續正整數平方和公式</strong>。</p>
<h3 id="連續正整數平方和公式"><a href="#連續正整數平方和公式" class="headerlink" title="連續正整數平方和公式"></a>連續正整數平方和公式</h3><p>再來就套用連續平方何公式即可。</p>
<p>關於此公式證明請看<a href="http://www.mathland.idv.tw/fun/Sum_of_squares.htm" target="_blank" rel="noopener">圖解連續正整數平方和公式</a></p>
<p>我會在講解一遍，但我認為我講解的不一定好於是附上網址，讓不懂我講解的人去看此，也謝謝此網站作者將學習資源公布在網路上</p>
<h4 id="證明"><a href="#證明" class="headerlink" title="證明"></a>證明</h4><p><img src="https://i.imgur.com/Jmuro5W.png" alt=""></p>
<ul>
<li><p>歸納<br>由此圖可知，有 5 個正方形與 5 個長方形組成此圖，且這 5 個正方形邊長分別為 1,2,3,4,5、5 個長方形邊長則為 1 * 1 , 1 * (1+2) , 1 * (1+2+3) , 1 * (1+2+3+4) , 1 * (1+2+3+4+5)。</p>
</li>
<li><p>我們想找的面積<br>而其實我們想要計算的連續正整數平方和就是紫色面積的正方形總和，如果我們透過數學算式去計算就是總面積減去黃色面積就是我們要查詢的面積。<br>於是我們就可以將公式稍微推出來，\([1 + 2 + 3 + … + (n-1) + n ] * (n+1) - [1 + (1+2) + (1+2+3) + … + (1+2+3+4+ … + n )] \)，翻譯成中文就是總面積的長度乘以總面積的高減去黃色部分就是紫色面積。 </p>
</li>
<li><p>將想找出的面積透過數學方式描述<br>\( [1 + (1+2) + (1+2+3) + … + (1+2+3+4+ … + n )] \) 是黃色面積中每一條長方型的面積，總和起來就是總黃色面積。</p>
</li>
<li><p>將其公式化<br>現在我們可以推出公式 \(\sum_{i=1}^{n} = i^2  =  \frac{n(n+1)}{2}(n+1) - \sum_{i = 1}^{n} \frac{i(i+1)}{2}   \)，這裡的 \(\frac{i(i+1)}{2} \) 為連續和公式。(梯形公式，上底為 1，下底為 n，高為 n )</p>
</li>
<li><p>推導與化簡步驟 1<br>再來進行化簡<br>\( \frac{n(n+1)}{2}(n+1) - \sum_{i = 1}^{n} \frac{i(i+1)}{2} = \frac{n(n+1)}{2}(n+1) - \frac{1}{2} \sum_{i=1}^{n} i(i+1) \)</p>
</li>
<li><p>推導與化簡步驟 2<br>\( \frac{n(n+1)}{2}(n+1) - \frac{1}{2} \sum_{i=1}^{n} i(i+1) =\frac{n(n+1)}{2}(n+1) - \frac{1}{2} \sum_{i=1}^{n} i^2 - \frac{1}{2} \sum_{i=1}^{n} i  \)，把 \( \sum_{i=1}^{n} i(i+1) \) 拉出來寫</p>
</li>
<li><p>推導與化簡步驟 3<br>這裡我們要進行移項，還記得一開始是  \(\sum_{i=1}^{n} = i^2 \) 嗎? 是我們不斷進行推導剛剛的步驟。<br>\(\sum_{i=1}^{n} = i^2 = \frac{n(n+1)}{2}(n+1) - \frac{1}{2} \sum_{i=1}^{n} i^2 - \frac{1}{2} \sum_{i=1}^{n} i \) 就變成了<br>\(  \frac{3}{2} \sum_{i=1}^{n} i^2 =  \frac{n(n+1)}{2}(n+1) - \frac{1}{2}\sum_{i = 1}^{n} i  \)，我們將 \( \frac{1}{2} \sum_{i=1}^{n} i^2 \) 移項至 \(\sum_{i=1}^{n} = i^2\) </p>
</li>
<li><p>推導與化簡步驟 4<br>\( \frac{n(n+1)}{2}(n+1) - \frac{1}{2}\sum_{i = 1}^{n} i = \frac{n(n+1)}{2}(n+1)  - \frac{1}{2} \frac{n(n+1)}{2} \)，將 \(\sum_{i = 1}^{n} i \) 轉換成連續和公式。</p>
</li>
<li><p>推導與化簡步驟 5<br>\( \frac{n(n+1)}{2}(n+1)  - \frac{1}{2} \frac{n(n+1)}{2} = \frac{n(n+1)}{2}(n+1) - (n + 1 - ) \frac{1}{2} \)，\(\frac{1}{2} \frac{n(n+1)}{2}\) 這項進行運算並化簡。</p>
</li>
<li><p>推導與化簡步驟 6<br>\( \frac{n(n+1)}{2}(n+1) - (n + 1 - ) \frac{1}{2} = \frac{n(n+1)(2n+1)}{4}\)，前面那項進行運算並化簡</p>
</li>
<li><p>推導與化簡步驟 7<br>還記得剛剛的值是 \(  \frac{3}{2} \sum_{i=1}^{n} i^2 \) 嗎？現在我們要在變回 \(  \sum_{i=1}^{n} i^2 \)於是<br>\(  \frac{3}{2} \sum_{i=1}^{n} i^2 = \frac{n(n+1)(2n+1)}{4}\) 將 \(  \frac{3}{2} \) 變成移項至另一邊，移項是分數數值會顛倒於是就變成了 \(\sum_{i=1}^{n} i^2 =  \frac{n(n+1)(2n+1)}{6}\)</p>
</li>
</ul>
<p><strong>現在我們有公式了，就來解決吧！</strong>，其實寫程式很簡單，如果有推出公式的話XD。</p>
<h2 id="參考來源"><a href="#參考來源" class="headerlink" title="參考來源"></a>參考來源</h2><ul>
<li><a href="https://knightzone.studio/2012/07/15/1759/uva%EF%BC%9A12149%EF%BC%8Dfeynman/" target="_blank" rel="noopener">uva：12149－feynman</a></li>
<li><a href="http://www.mathland.idv.tw/fun/Sum_of_squares.htm" target="_blank" rel="noopener">昌爸工作坊</a></li>
<li>微積分老師洪揮霖</li>
</ul>
<h2 id="心得"><a href="#心得" class="headerlink" title="心得"></a>心得</h2><p>老實講，這題我寫的好痛苦XDDD，我自己的數學觀念太差了，雖然看了大神的 blog 得知這題是算出連續正整數平方和公式，但也是花了很多時間才想通QQQQ，再來連續正整數平方和公式我想要推出其證明還卡關…，問了微積分老師洪揮霖(他人很好，幫助我很多數學問題)發現我竟然是卡在移項問題沒看懂..(冏。</p>
<p>因為這題我花的時間比較久且大部分都是在公式推導上於是我就將我的公式推導流程放上來，如果有數學底子跟我一樣差的或許就能看懂了！希望不要有人跟我一樣差拉，很痛苦的，真的。都怪我國中太愛玩都沒有好好上數學課。</p>
<p>總之，學會了，我也變強了，希望之後可以發揮我現在學習的一課！<del>學習 1 小時，寫心得 4 小時是正常的嘛…</del></p>
<h2 id="題目程式碼"><a href="#題目程式碼" class="headerlink" title="題目程式碼"></a>題目程式碼</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LOCAL</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> int long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n ;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int32_t</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> LOCAL</span></span><br><span class="line">    freopen(<span class="string">"in1.txt"</span> , <span class="string">"r"</span> , <span class="built_in">stdin</span> );</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span> <span class="comment">// LOCAL</span></span></span><br><span class="line">    <span class="keyword">while</span>(<span class="built_in">cin</span> &gt;&gt; n &amp;&amp; n )&#123;</span><br><span class="line">        n = (n * (n+<span class="number">1</span>) * (<span class="number">2</span>*n+<span class="number">1</span>)) / <span class="number">6</span> ;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="string">'\n'</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="思考流程"><a href="#思考流程" class="headerlink" title="思考流程"></a>思考流程</h2><p>透過紙筆與黑板而思考而成的片段，放在網路上供我紀念XD</p>
<blockquote>
<p><img src="https://i.imgur.com/EhqZ4y7.jpg" alt=""></p>
</blockquote>

      
      <!-- reward -->
      
    </div>
    
    
      <!-- copyright -->
      
        <div class="declare">
          <ul class="post-copyright">
            <li>
              <i class="ri-copyright-line"></i>
              <strong>版權聲明： </strong s>
              本部落格所有文章除有特別聲明外，均採用 <a href="https://www.apache.org/licenses/LICENSE-2.0.html" rel="external nofollow"
                target="_blank">Apache License 2.0</a> 許可協議。轉載請註明出處！
            </li>
          </ul>
        </div>
        
    <footer class="article-footer">
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UVa/" rel="tag">UVa</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/math-theorm/" rel="tag">math theorm</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%A8%8B%E5%BC%8F%E8%A7%A3%E9%A1%8C/" rel="tag">程式解題</a></li></ul>


    </footer>

  </div>

  
  
  <nav class="article-nav">
    
      <a href="/2021/01/07/Explain_Algorithm/Astar/" class="article-nav-link">
        <strong class="article-nav-caption">上一篇</strong>
        <div class="article-nav-title">
          
            演算法知識 - A* 搜尋
          
        </div>
      </a>
    
    
      <a href="/2020/12/31/UVa/UVa12502/" class="article-nav-link">
        <strong class="article-nav-caption">下一篇</strong>
        <div class="article-nav-title">UVa12502 - Three Families(math theorm )</div>
      </a>
    
  </nav>


  

  
  
<!-- valine评论 -->
<div id="vcomments-box">
    <div id="vcomments">
    </div>
</div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='https://cdn.jsdelivr.net/npm/valine@1.3.10/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#vcomments',
        app_id: '',
        app_key: '',
        path: window.location.pathname,
        notify: 'false',
        verify: 'false',
        avatar: 'mp',
        placeholder: '給我的文章加點評論吧~',
        recordIP: true
    });
    const infoEle = document.querySelector('#vcomments .info');
    if (infoEle && infoEle.childNodes && infoEle.childNodes.length > 0) {
        infoEle.childNodes.forEach(function (item) {
            item.parentNode.removeChild(item);
        });
    }
</script>
<style>
    #vcomments-box {
        padding: 5px 30px;
    }

    @media screen and (max-width: 800px) {
        #vcomments-box {
            padding: 5px 0px;
        }
    }

    #vcomments-box #vcomments {
        background-color: #fff;
    }

    .v .vlist .vcard .vh {
        padding-right: 20px;
    }

    .v .vlist .vcard {
        padding-left: 10px;
    }
</style>

  

  
  
  

</article>
</section>
      <footer class="footer">
  <div class="outer">
    <ul class="list-inline">
      <li>
        &copy;
        2020-2021
        John Doe
      </li>
      <li>
        
        Powered by
        
        
        <a href="https://hexo.io" target="_blank">Hexo</a> Theme <a href="https://github.com/Shen-Yu/hexo-theme-ayer" target="_blank">Ayer</a>
        
      </li>
    </ul>
    <ul class="list-inline">
      <li>
        
        
        <span>
  <i>PV:<span id="busuanzi_value_page_pv"></span></i>
  <i>UV:<span id="busuanzi_value_site_uv"></span></i>
</span>
        
      </li>
      
      <li>
        <!-- cnzz统计 -->
        
      </li>
    </ul>
  </div>
</footer>
      <div class="to_top">
        <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>
      </div>
    </main>
    <aside class="sidebar">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="大衞的筆記"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主頁</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">歸檔</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分類</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">標籤</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/about">關於我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜尋">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i></p>
  <div class="reward-box">
    
    
  </div>
</div>
    
<script src="/js/jquery-2.0.3.min.js"></script>


<script src="/js/share.js"></script>


<script src="/js/lazyload.min.js"></script>


<script>
  try {
    var typed = new Typed("#subtitle", {
      strings: ['你必須很努力，才能看起來豪不費力', '明天要保持笑容，面對每個挑戰，因為不優秀的人是沒有資格哭泣的', '想要的都擁有，得不到的都釋懷'],
      startDelay: 0,
      typeSpeed: 200,
      loop: true,
      backSpeed: 100,
      showCursor: true
    });
  } catch (err) {
  }

</script>




<script src="/js/tocbot.min.js"></script>

<script>
  // Tocbot_v4.7.0  http://tscanlin.github.io/tocbot/
  tocbot.init({
    tocSelector: '.tocbot',
    contentSelector: '.article-entry',
    headingSelector: 'h1, h2, h3, h4, h5, h6',
    hasInnerContainers: true,
    scrollSmooth: true,
    scrollContainer: 'main',
    positionFixedSelector: '.tocbot',
    positionFixedClass: 'is-position-fixed',
    fixedSidebarOffset: 'auto',
    onClick: (e) => {
      $('.toc-link').removeClass('is-active-link');
      $(`a[href=${e.target.hash}]`).addClass('is-active-link');
      $(e.target.hash).scrollIntoView();
      return false;
    }
  });
</script>



<script src="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jquery-modal@0.9.2/jquery.modal.min.css">
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js"></script>

<script src="/js/ayer.js"></script>



<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css">
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script>


<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
      tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
  });

  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>

<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.6/unpacked/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script>
  var ayerConfig = {
    mathjax: true
  }
</script>



<script src="/js/busuanzi-2.3.pure.min.js"></script>



<script type="text/javascript" src="https://js.users.51.la/20544303.js"></script>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.css">
<script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.2/dist/jquery.fancybox.min.js"></script>


    
  </div>
</body>

</html>